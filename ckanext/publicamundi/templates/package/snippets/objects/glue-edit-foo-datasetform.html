{% import 'macros/accordion.html' as accordion -%}
{% import 'macros/markup_helpers.html' as markup_helpers -%}

{% set groups = [
        { 
            'name': 'basic',
            'heading': _('Basic Foo'),
            'fields': ['title', 'url', 'description', 'baz', 'tags', 'thematic_category']
        },
        { 
            'name': 'contact',
            'heading': _('Contact Info'),
            'fields': ['contact_info', 'contacts'],
        },
        { 
            'name': 'details',
            'heading': _('Details'),
            'fields': [
                'temporal_extent', 'reviewed', 'created', 'published', 
                'wakeup_time', 'rating', 'grade'],
        },
   ]
%}

<div class="{{ classes|join(' ') }}">
    {% if title %}<h3>{{ title }}</h3>{% endif %}
    {% call(group_desc) accordion.accordion('foo-fields', groups) %}
        {% for fname in group_desc.fields -%}
        {{ fields[fname].markup }}
        {% endfor -%}
    {% endcall %}
</div>
