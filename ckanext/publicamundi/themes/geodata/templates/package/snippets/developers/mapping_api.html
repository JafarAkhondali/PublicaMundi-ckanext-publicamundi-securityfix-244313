{% set res = {} %}
{% for resource in pkg.resources %}
    {% if resource.format == 'wms' and (resource.vectorstorer_resource or resource.rasterstorer_resource) %}
        {% do res.update(resource) %}
    {% elif resource.format == 'wfs' and (resource.vectorstorer_resource) %}
        {% do res.update(resource) %}
    {% endif %}
{% endfor %}

<div class="accordion-group">
    <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion-dev" href="#collapse-js">{{ _('Mapping API') }} &raquo;</a>
    </div>
    <div id="collapse-js" class="accordion-body collapse">
        <div class="accordion-inner">
            {% if res %}
            {% snippet 'package/snippets/developers/mapping_api_js.html', res=res %}

            {% else %}
            <strong>{{ _('The dataset contains no suitable data to use with the Mapping API')}}</strong><br><br>
            {% endif %}
            <strong>{%trans%}You can find detailed Mapping API demos <a href="/mapping-api" target="_blank">here</a>{%endtrans%}
            </strong>

        </div>
    </div>
</div>

